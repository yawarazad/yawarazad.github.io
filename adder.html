<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adder</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
    <script src="js/jquery-1.11.1.min.js"></script>
</head>
<body>
    <div class="fluid-container">
        <div class="row">
            <div class="col-md-12" id="table">
                <table class="table table-bordered">
                    <thead>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function(){
            var thead = '<tr>';
            thead = thead + '<th scope="col"></th>';
            for(i=0;i<10;i++) thead = thead + '<th scope="col">'+Math.floor(Math.random() * 90 + 10)+'</th>';
            thead = thead + '<th class="info" scope="col">Totals'
            thead = thead + '</tr>'
            $('thead').append(thead); 

            for(j=0;j<=10;j++){
                var tr = '<tr>';
                if(j==10){
                    tr = tr + '<th class="info" scope="row">Total</th>';
                    for(i=0;i<11;i++) tr = tr + '<td class="info belowTotal" contenteditable="true"></td>'
                }else {
                    tr = tr + '<th scope="row">'+Math.floor(Math.random() * 90 + 10)+'</th>';
                    for(i=0;i<10;i++) tr = tr + '<td contenteditable="true"></td>'
                    tr = tr + '<td class="info total" contenteditable="true"></td>'
                }
                tr = tr + '</tr>';
                $('tbody').append(tr);
            }
            var sumSelected;
            $("td").click(function(){
                var row = $(this).parent().parent().children().index($(this).parent());
                var col = $(this).parent().children().index($(this));
                if($(this).hasClass('total')) {
                    sumSelected = 0;
                    for(i = 0;i<col-1;i++){
                        textCell = $('.table tr:eq("'+(parseInt(row)+1)+'") td:eq("'+(parseInt(i))+'")');
                        if(textCell.text() == "") {
                            textCell.addClass('danger');
                            $(this).blur();
                            break;
                        }
                        sumSelected = sumSelected+ parseInt(textCell.text());
                    }
                }else if($(this).hasClass('belowTotal')){
                    
                    sumSelected = 0;
                    for(i = 1;i<=row;i++){
                        textCell = $('.table tr:eq("'+(parseInt(i))+'") td:eq("'+(parseInt(col-1))+'")');
                        if(textCell.text() == "") {
                            textCell.addClass('danger');
                            $(this).blur();
                            break;
                        }
                        sumSelected = sumSelected+ parseInt(textCell.text());
                    }

                }else {
                    var columnValue =  $('.table th').eq($(this).index()).text();
                    var rowValue = $(this).siblings('th').text();
                    sumSelected = parseInt(columnValue) + parseInt(rowValue);
                }
            });
            $("td").on('input', function(){
                if(sumSelected == parseInt($(this).text())) {$(this).removeClass('danger').addClass('success')}
                else {$(this).addClass('danger')};
            });
        });
    </script>
</body>
</html>

